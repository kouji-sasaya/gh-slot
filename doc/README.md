# ドキュメント インデックス

## 📚 gh-slot ドキュメンテーション

このフォルダには、gh-slotスロットマシンゲームのアーキテクチャとデザインドキュメントが含まれています。

## 📋 ドキュメント一覧

### 🎯 アーキテクチャ図

| ファイル | 内容 | 対象読者 |
|----------|------|----------|
| **sequence-diagram.md** | メインゲームフローのUMLシーケンス図 | 開発者・設計者 |
| **reel-sequence.md** | リール回転機構の詳細シーケンス図 | 開発者・デバッガー |

### 🔍 各ドキュメントの詳細

#### 1. sequence-diagram.md
- **目的**: ゲーム全体の処理フローを可視化
- **内容**: 
  - ユーザー操作からシステム応答までの全体像
  - Tokio非同期処理の並行実行パターン
  - イベントドリブン設計の実装詳細
  - キー操作とシステム反応の関係

#### 2. reel-sequence.md
- **目的**: リール回転メカニズムの深堀り
- **内容**:
  - AtomicBoolによるスレッドセーフ状態管理
  - spin_loop()の内部動作フロー
  - 並行実行タイミングの詳細
  - 停止制御のメカニズム

## 🛠️ 技術スタック

- **言語**: Rust (Edition 2021)
- **非同期ランタイム**: Tokio (current_thread flavor)
- **ターミナルUI**: crossterm
- **並行制御**: AtomicBool, Arc, Clone

## 📈 アーキテクチャ概要

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   ユーザー操作   │───▶│  メインループ     │───▶│  画面描画       │
│  (キーボード)    │    │ (event::poll)    │    │ (crossterm)     │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                                │
                                ▼
                       ┌──────────────────┐
                       │ SlotMachine      │
                       │ - リール制御     │
                       │ - 状態管理       │
                       └──────────────────┘
                                │
                    ┌───────────┼───────────┐
                    ▼           ▼           ▼
            ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
            │   Reel[0]   │ │   Reel[1]   │ │   Reel[2]   │
            │ tokio::spawn│ │ tokio::spawn│ │ tokio::spawn│
            │ (並行実行)  │ │ (並行実行)  │ │ (並行実行)  │
            └─────────────┘ └─────────────┘ └─────────────┘
```

## 🎰 ゲーム仕様

- **リール数**: 3個（独立したシンボル配列）
- **シンボル数**: 各リール21種類の絵文字
- **ペイライン**: 5本
- **操作**: リアルタイムキー入力制御

## 📝 更新履歴

- **v1.7.0**: スペースバー入力認識の改善、シーケンス図作成
- **v1.6.0**: VS Code デバッグ環境構築
- **v1.5.0**: ペイライン数調整（7→5）
- **v1.4.0**: 独立リールシンボル配列実装

---

*このドキュメンテーションは、gh-slotプロジェクトの理解と保守性向上を目的として作成されています。*